!(import! &self motto)
!(import! &self agents)
!(import! &self agents:events)
!(bind! &events (basic-event-bus))

!(bind! &a1 (listening-agent "examples/examples_with_threads/simple_call.msa"  &events))
!(&a1 .start)
!(publish-event &events speech (py-dict (("text" "who is the 6 president of France"))))
! ((py-atom time.sleep) 5)
! (&a1 .say)
! (publish-event &events speech (py-dict (("text" "who is John Legend? tell me many sentences"))))
! ((py-atom time.sleep) 1)
! (&a1 .say)
! (publish-event &events  speechstart ((py-atom time.time)))
! ((py-atom time.sleep) 0.6)
! (publish-event &events speechcont ((py-atom time.time)))
! ((py-atom time.sleep) 3)
! (&a1 .say)
! (publish-event &events speech (py-dict (("text" "so who is John Lennon?"))))
! ((py-atom time.sleep) 2)
! (publish-event &events speechstart ((py-atom time.time)))
! ((py-atom time.sleep) 3)
! (&a1 .say)
! (publish-event &events  speech (py-dict (("text" "Which songs did he write?"))))
! ((py-atom time.sleep) 10)
! (&a1 .say)
! (&a1 .stop)